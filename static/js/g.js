

var objects = [
    {
        'Name' : 'SlitherIO',
        'Icon' : 'i/G/slither.png',
        'ProxyType' : 'Ultraviolet',
        'URL' : 'https://slither.io'
    },
    {
        'Name' : '2048',
        'Icon' : 'i/G/2048.png',
        'ProxyType' : 'default',
        'URL' : 'https://2048game.com/'
    },
    {
        'Name' : '8 Ball Pool',
        'Icon' : 'i/G/8ball.webp',
        'ProxyType' : 'default',
        'URL' : 'https://8ball-pool.io'
    },
    {
        'Name' : 'OSU!',
        'Icon' : 'i/G/osu.png',
        'ProxyType' : 'RH',
        'URL' : 'https://webosu.online/'
    },
    {
        'Name' : 'Rythm+',
        'Icon' : 'i/G/Rhythm-Plus.jpg',
        'ProxyType' : 'Ultraviolet',
        'URL' : 'https://rhythm-plus.com/'
    },
    {
        'Name' : 'Vex 4',
        'Icon' : 'i/G/vex4.png',
        'ProxyType' : 'Ultraviolet',
        'URL' : 'https://games.crazygames.com/en_US/vex-4/index.html'
    },
    {
        'Name' : 'Vex 5',
        'Icon' : 'i/G/vex5.webp',
        'ProxyType' : 'Ultraviolet',
        'URL' : 'https://the.deconstructors.co.uk/tam-vex-5/'
    },
    {
        'Name' : 'Vex 6',
        'Icon' : 'https://lh3.googleusercontent.com/fife/AK0iWDx4897UFjX8uJ36DeNQSSNU5hdkDBZuCkgNQiOWMftgnUYG_w6mBWZRKQcg8Xxu5u1zKgkZnOY8etfR1NQrVH2o1J8PbDLgPeOwLMq_kkks0jgqrv8M9D2oUL5nmxqfeQKETD_h3ai03AqZDRAY6wSbJZGzlo0CcL2pen6lYEXaxb6Qc1oEUKQCq8ePizoJToSuUqCKjLGl3CSgz2IfL7hQfNOk8vVeXGbIGGqQarZzfCXhvBvySK4PMSqtPcEafD_KnQT7-q9BdIBxsOtbkw_Hr5_zgIQn6ietJa03ekZUjY-OMCXNXoXHpAl2sbJ6jv7PkHivvXWmV_NGjcxzmQ_pv0orKD74TJuDyTW96CSvLB9Zn2LxV13hsnVadW07rwmn1kp4QEZbA6TvB4lj0EVcRN2mmfjgafmHib5bCnnZymbfdfgw3hLPL44_2wDhHp11hzWVaqp-Sm7Mfh-41qvq77c6dTTY1l50FB65bZImG6V8OgaQeI1CIlZS5k3QhK9mhXibu7f-T6s55KFCQlwnawT4X8pqiqtuKkFCt3Ya1Y7yjz8JH09v3FSzvZg8TKL0GcKyrQe3T8Np9lmqrGKqP10SmipmPhnABhJ6c9sAqQ41TT8Mj1-mUU4yPYABwIst66RVk8PR5Tn6b9tTZiEDlqQn_6w62olGIYa91qBVp42wZFpDiJTLa3Ii8voxOib0pjHudQFsxDU8cInObRw2u7wY2iPanG_hsnamOPbRwqLMr5rf-920C1YlpAAwDgjXkTTxyfaUDgSnkK_Gqfeg14DiyLNHJL2J-6DaeqBMVGIf8NGO628GIhYZG7XR8HCX647HBDS7SUzh7Si54A8d2pcE13Jx6JDnSvgQXiT4vDECFW92THvzgvZXATL6wNiDQjupUnN6Qu4MttWND_kI9g58rQCvukZ1LmFam2EHuNbogxvlX9jAe58iNggPKSb--CQTu3JwyILpFagXtYmylecxzAhM04oGR-5DWoEUvz-exZbNBdMu7GDt2jMkMxYii-7hkrUcnYnR0RjufQM8aBaiLJ_CDH8a6Z-Cppzq2O-IqwMIRARQMoHQo8FJ2kpAxYotirKJNajtmx0Xx8KtvmGx39GGw82VeE0dkJ2TiWKeRfbaHiFmUFWRbJhCXqUH3VenmQvQ9DTX3551al283qUA1EggysGZ3DZmDeLrwm-QC1uHhFHrJNivrrrz0DMhKouJxJ_h6CdMUoAtj8UpRyl8JzIKkZIfJe_baMdoqr-ORDEvgqD3zigf25w61ewIkDNin-_EnXqFKHQEnpI1tXUNdUi1EOp-p6vUjsgLqq4mCZd8jULFrYV98I_69uE8__A1DZnj4AE7eDb4wKAoCSLo0eALhSz0rut2xYAFWjiHGfl_x6z1mzvEahVjBCAJKoOL58fR-8y-9bEYyIV-pR7J3tJWofkf0rnDoibvou_VaDh4ClcQ4qbAMPx7jGP5l19Xspt7O1lsir7N3PQdps1PrzYRT-6cC5Mx4c8wUHO9U3ZIkZbMI8o-8LVWbEyrljoG5-hncKjL3diOjV3yngY=w1920-h868',
        'ProxyType' : 'RH',
        'URL' : 'https://games.crazygames.com/en_US/vex-6/'
    },
    {
        'Name' : 'Vex 7',
        'Icon' : 'i/G/vex7.png',
        'ProxyType' : 'Ultraviolet',
        'URL' : 'https://games.crazygames.com/en_US/vex-6/index.html'
    },
]

function generateCompactAppliances () {
    for (var i = 0; i < objects.length; i++) {
        var object = objects[i];

        var applet = document.createElement('div');
        applet.className = 'applet';
        document.getElementById('holder').appendChild(applet);
        var applet_IMG = document.createElement('img');
        applet.appendChild(applet_IMG);
        applet_IMG.src = object.Icon;
        var applet_Title = document.createElement('h1');
        applet.appendChild(applet_Title);
        applet_Title.textContent = object.Name
        applet.appendChild(applet_Title);

        (function(obj) {
            applet.onclick = function() {
                Launch(obj.URL, obj.Name, obj.ProxyType);
            };
        })(object);
    }
}

generateCompactAppliances();

function Launch(url, name, ProxyType) {
    const DefaultProxy = localStorage.getItem('Proxy')
    let ProxyToBeSelected
    if (ProxyType == 'default') {
        ProxyToBeSelected = DefaultProxy    
    } else {
        ProxyToBeSelected = ProxyType
    }
    const dataObject = {
        url: url,
        name: name,
        ProxyType: ProxyToBeSelected
      };    
      console.log(dataObject);
      const jsonString = JSON.stringify(dataObject);
      const base64Encoded = btoa(jsonString);
      
      window.location.href = './go.html?mode=' + base64Encoded
};