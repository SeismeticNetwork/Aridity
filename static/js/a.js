

var objects = [
    {
        'Name' : 'Google',
        'Icon' : 'https://lh3.googleusercontent.com/fife/AK0iWDyYg_23Hn0nmaCH41m4_UpcD-JzcBGJ3rzYs_Pdh3l1Ti1J7ipz46ocQKlDl5IVh79KPLmmc6q3ELoqlypFZm6322jlYsdvrH_5S6uoN3Y7Arm3quM5aFOJ7jHBV9YuNHgBp45j7Be1qWz8hVGS8xJ6OZnAGDf5mpdV_Fvrmy9ZUOHYf5Xy8puk_1QAP9hZeU1Rk0co01sLhjvgHSiDrdKaGTSPnVDpF3DilLNTr2l08sxBB5lxlGK52m6V5QU1TFaS2-suawzAOAA4guR_F7caa4iWR1CuxbroOMFIKp8eI49Os02rGqjgP6vQtuwlI4FRFGDgmLBzL6lzMnpgdmJh5E6KfWYJdSwD8VB4fXSWPRPXk-1Fq67tCcgjtAYNyReNyh9raAtZkcdavnlWmfcEd-kX1c-lXfpOMsmFruapnGCo7v0eMAizE3EY2SY7CPNBkMZvQ10fNOE4GgtNyHAnRd_jbp_om6d7pA0d0_hQQnEw62ZDIAC-_vaHSlfmL5dZZy3sq_oUzedKQMKOez2edgPkOLCBtYbHcYjiWvV-3pr_A3jbpBlIU2BdRq63-HNRlqBhmwjm_yTtTkqN1KLcTDg8-hAtQLzMiUvC-e-fv_iOm3ERgl7RXm47R0lGrm9LIcDubAyFdVd3ZreqWjbvBBjHxI42jN1a-vmk50cxqmRLujn0tmEJzfiYrKFphnscOOLTA980QWDUsHnI4SLRb-AxArs1-hgVOnBQ8rn0452_Eh9TU1K5CTsl0mCuabg2DAaNSFNumUyiX0nOU30S0p_q1dSIh0bnPC0H7qTXoe9NxvZWFLDAcpxSNXzCjdFBSw_wq7w2FKgKkHnl-kcSk57X_wO_BDpQq1AzzDpz86bWgt3pQ_4EqqNpNQwU3HWDNbPSDKR-xidGIVoBKl9cEdUMUXu-xW5O9_p4FU7fYATyliRGiz30_26tR-fV1NwCRKeaVp-z5FIqv-K61-GXhoi2dfisnB53bUHJIZwHws3QefARLHcEoqrrfvJbQxbanDEWcx2XH9Dze4RPVzV5AY8HOF02ILAa7vlf672Db52Ni_JwNyEVWMMRFP_-GUKDgaW3aXRtoF8OjmUlBsDxrLDDi20KWjWb32gDS2TfqUC5kHkmolKHzjDuB8add8hCjLBmVweMe6phPCWsDmzGzrV1aDuTefQTyJtSw_uIn26KBgzA_QTEQZoUXHPxN0OWp6TqdlvX56LQ4MwEXnX6hFF4a372OiCadqf4nA_kIoqolQMcsmvVMMqilUNCHdSZhvFMYXGIMqEbPTnMo92rfBeJORBNbTpnEy2qFqr5IYhUdINuUON6KNBuMMiZeIKGpQYHTCSKYqDH4Dx9aas1T4srZF_HvbzFs4oIulSQWUuzU20CM0QY_CXQUG_H-vrBt3quvaLg5-LXQegz1df5oS4Ng7weF30Hs1imjgnRJ7CMZIX-aBSmnTC6HKJORRZqL8TrlVA1sKIGkZDuVIo2Gt06JdX_B_IY7QzC552RpaNINSJq8oRr2V6lIbXKFTgMM_sQJCiXVkyfwI33dO_X_Fs=w1920-h868',
        'ProxyType' : 'default',
        'URL' : 'https://google.com'
    },
    {
        'Name' : 'Youtube',
        'Icon' : 'i/A/yt.png',
        'ProxyType' : 'Ultraviolet',
        'URL' : 'https://youtube.com'
    },
    {
        'Name' : 'Chess',
        'Icon' : 'i/A/chess.png',
        'ProxyType' : 'default',
        'URL' : 'https://chess.com'
    },
    {
        'Name' : 'Amazon',
        'Icon' : 'i/A/amazon.png',
        'ProxyType' : 'default',
        'URL' : 'https://amazon.com'
    },
    {
        'Name' : 'Discord',
        'Icon' : 'i/A/discord.jpg',
        'ProxyType' : 'default',
        'URL' : 'https://canary.discord.com/login'
    },
    {
        'Name' : 'ChatGPT',
        'Icon' : 'i/A/chatgpt.png',
        'ProxyType' : 'default',
        'URL' : 'https://chat.shuttle.rip/chat'
    },
    {
        'Name' : 'BFlix',
        'Icon' : 'i/A/bflix.png',
        'ProxyType' : 'default',
        'URL' : 'https://bflix.sx'
    },
    {
        'Name' : 'CoolMathGames',
        'Icon' : 'i/A/cmg.png',
        'ProxyType' : 'default',
        'URL' : 'https://coolmathgames.com'
    },
    {
        'Name' : 'Duck duck go',
        'Icon' : 'i/A/duckduck-go.png',
        'ProxyType' : 'default',
        'URL' : 'https://duckduckgo.com'
    },
    {
        'Name' : 'ESPN',
        'Icon' : 'i/A/ESPN.png',
        'ProxyType' : 'default',
        'URL' : 'https://espn.com'
    },
    {
        'Name' : 'FlixHQ',
        'Icon' : 'i/A/flix.png',
        'ProxyType' : 'default',
        'URL' : 'https://flixhq.to'
    },
    {
        'Name' : 'GeForce Now',
        'Icon' : 'i/A/geforce.png',
        'ProxyType' : 'default',
        'URL' : 'https://play.geforcenow.com'
    },
    {
        'Name' : 'Twitch',
        'Icon' : 'i/A/twitch-tv.png',
        'ProxyType' : 'default',
        'URL' : 'https://twitch.tv'
    },
    {
        'Name' : 'Twitter',
        'Icon' : 'i/A/twitter.png',
        'ProxyType' : 'default',
        'URL' : 'https://x.com'
    },
    {
        'Name' : 'TikTok',
        'Icon' : 'i/A/tiktok.png',
        'ProxyType' : 'default',
        'URL' : 'https://tiktok.com'
    },
    {
        'Name' : 'Whatsapp',
        'Icon' : 'i/A/whatsapp.png',
        'ProxyType' : 'RH',
        'URL' : 'https://web.whatsapp.com/'
    },
    {
        'Name' : 'vs-code',
        'Icon' : 'i/A/vscode.png',
        'ProxyType' : 'default',
        'URL' : 'https://vscode.dev/'
    },
    {
        'Name' : 'Spotify',
        'Icon' : 'i/A/spotify.png',
        'ProxyType' : 'RH',
        'URL' : 'https://open.spotify.com/'
    },
    {
        'Name' : 'SoundCloud',
        'Icon' : 'i/A/soundcloud.jpg',
        'ProxyType' : 'default',
        'URL' : 'https://soundcloud.com/'
    },
    {
        'Name' : 'Poki',
        'Icon' : 'i/A/poki.png',
        'ProxyType' : 'default',
        'URL' : 'https://poki.com/'
    },
    {
        'Name' : 'Xbox Cloud',
        'Icon' : 'i/A/xbox.png',
        'ProxyType' : 'default',
        'URL' : 'https://www.xbox.com/en-us/play'
    },
    {
        'Name' : 'Ruffle',
        'Icon' : 'i/A/ruffle.png',
        'ProxyType' : 'default',
        'URL' : 'https://ruffle.rs/demo/'
    },
    {
        'Name' : 'Apple Music',
        'Icon' : 'i/A/apple.png',
        'ProxyType' : 'default',
        'URL' : 'https://music.apple.com/us/browse'
    },
    {
        'Name' : 'flixtor',
        'Icon' : 'i/A/flixtor.png',
        'ProxyType' : 'default',
        'URL' : 'https://flixtor.si/'
    },
    {
        'Name' : 'Rumble',
        'Icon' : 'i/A/rumble.png',
        'ProxyType' : 'default',
        'URL' : 'https://rumble.com/'
    },
    {
        'Name' : 'Mathway',
        'Icon' : 'i/A/mathway_icon_rounded.png',
        'ProxyType' : 'default',
        'URL' : 'https://www.mathway.com/Algebra'
    },
    {
        'Name' : 'Paramount+',
        'Icon' : 'i/A/paramount.png',
        'ProxyType' : 'RH',
        'URL' : 'https://paramountplus.com/'
    },
    {
        'Name' : 'instagram',
        'Icon' : 'i/A/instagram.png',
        'ProxyType' : 'RH',
        'URL' : 'https://instagram.com/'
    },
    {
        'Name' : 'waflash',
        'Icon' : 'i/A/waflash.png',
        'ProxyType' : 'default',
        'URL' : 'https://clubpenguinadvanced.github.io/waflash-demo/'
    },
]


function generateCompactAppliances () {
    for (var i = 0; i < objects.length; i++) {
        var object = objects[i];

        var applet = document.createElement('div');
        applet.className = 'applet';
        document.getElementById('holder').appendChild(applet);
        var applet_IMG = document.createElement('img');
        applet.appendChild(applet_IMG);
        applet_IMG.src = object.Icon;
        var applet_Title = document.createElement('h1');
        applet.appendChild(applet_Title);
        applet_Title.textContent = object.Name
        applet.appendChild(applet_Title);

        (function(obj) {
            applet.onclick = function() {
                Launch(obj.URL, obj.Name, obj.ProxyType);
            };
        })(object);
    }
}

generateCompactAppliances();

function Launch(url, name, ProxyType) {
    const DefaultProxy = localStorage.getItem('Proxy')
    let ProxyToBeSelected
    if (ProxyType == 'default') {
        ProxyToBeSelected = DefaultProxy    
    } else {
        ProxyToBeSelected = ProxyType
    }
    const dataObject = {
        url: url,
        name: name,
        ProxyType: ProxyToBeSelected
      };    
      console.log(dataObject);
      const jsonString = JSON.stringify(dataObject);
      const base64Encoded = btoa(jsonString);
      
      window.location.href = './go.html?mode=' + base64Encoded
};